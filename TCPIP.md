title: IP/TCP,详解
---
1.  TCP/IP 是指一个协议群，为了让不同电脑直接交流信息用的,TCP/IP协议由上到下，由高级到低级，层层包装，最上面的是应用层http,ftp等，然后是传输层tcp | udp ,再下来是网络层IP,负责对数据加上IP地址和其他数据，第四层是数据链路层，负责加上一个以太网的协议头，最后为数据传输做准备，接下来就是硬件层了包括网络制式，网卡定义等。 数据发送端负责把数据从上而下封装到底层，而客户端按照协议解开

2. IP地址: 每一个节点都必须有独立ip地址，是一个32位的255.255.255.255，样式

3. 域名系统，负责把域名解析成ip地址，

3. RFC， 是tcp/ip的标准文档，是tcp/ip协议群的文档，有6000多个，但需要学习的只有十几个，

4. 应用编程接口，socket 和 TLI,

5. 网关：目的是为了实现不同网段ip地址的主机通信，如主机一是在192.168.1.1~192. 168.1.254，主机2是在，192.168.2.1~192.168.2.254，那么久被判为两个不同的网络，要实现这两个网段通信，就必须通过网关，网关便是具有路由功能的设备，可以是路由器，开了路由的服务器，或者代理服务器，主机一把数据发送到网关设备的ip地址上即可，

6. ip有网络号+主机号形成 地址划分，4个字节，每个字节8位，共32位，如w.x.y.z 

，同一个网络中的主机网络号相同，主机号在同一个网络中是唯一的，A类ip的网络号是w ,B类是 w.x，C类是w.x.y.(也就是局域网)
<br> 子网掩码，为了区别主机号和网络号，ip 地址与子网掩码做与操作，若值相等则两个ip处于同一网段

7. tcp/ip协议群，socket 接口， tcp/udp, http,长连接，短连接 ,比较全面的解答[参考](http://my.oschina.net/OutOfMemory/blog/95803)

8. http ,等协议，其实都可以进行长连接，只是根据协议的约定，能否保持稳定性问题，如tcp 的三次握手，而http 建立在tcp上，当然也要三次握手，而握手后，是无状态的，也就是每个http请求(或者说是连接) ,都是相互独立的，更生动的来说，如果同一个客户端发布了两次http请求，服务端并不知道这两次请求分别做了什么事，如，第一次客户登录，而第二次服务器不知道客户已经登录，于是出现了session和cookie,用来保持 http请求的多次状态.当然实现状态维持还有其他方法，如隐藏表单域，重写URL

9. http 为何原始设计是长连接，因为每个连接，实际上是端口+ip ,因此每次新连接都需要开一个独立的窗口，那么人多的话，端口就绝对不够用了，但是由于每次创建新链接的时间需要三次握手，还有其他文件头的琐事，因此占用时间多，资源多，利用长连接，便可以保持本次链接，下次要是同一ip的包过来，就不需要三次握手了

10. session的内在机制，绑定ip并且实现对每个ip建立一个对象维持其状态，等待下一个请求来临时候，检查该请求所在ip是否在已经保存的对象中，并取出其状态情况
